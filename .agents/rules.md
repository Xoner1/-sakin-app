# Sakin App — Agent Rules

## المشروع
- اسم التطبيق: **ساكن** — تطبيق إسلامي للصلاة والأذكار والعادات
- Flutter + Dart، يعمل بشكل **كامل offline**، بدون أي Backend خارجي
- مستهدف لـ Android أولاً، ثم iOS لاحقاً
- الإصدار الحالي: `2.1.3+6`

## قواعد لا تُكسر
- **لا تقترح أبداً** إضافة Supabase أو Firebase Auth أو أي خدمة تتطلب اتصالاً دائماً بالإنترنت
- **لا تُضيف** package جديداً دون ذكر سببه وبديله وتأثيره على حجم التطبيق
- **لا تُغير** آلية جدولة الأذان (`alarm_service.dart`) إلا بعد تحليل كامل ومناقشة صريحة
- **لا تنفذ** أي تغيير كبير دون أن تشرح ما الذي ستفعله أولاً وتنتظر الموافقة

## أسلوب العمل
- استشر قبل التنفيذ دائماً — صاحب المشروع يفضل الفهم على السرعة
- اشرح **لماذا** لا فقط **ماذا**
- إذا وجدت مشكلة أثناء تنفيذ طلب، أوقف واذكرها فوراً
- اقترح الأبسط أولاً — لا over-engineering

## الـ Stack المعتمد (لا تخرج عنه)
- State Management: `Provider` + `BLoC` (للمسبحة فقط)
- Database: `Hive` فقط
- Notifications: `flutter_local_notifications` + `android_alarm_manager_plus`
- Prayer Times: مكتبة `adhan`

## مرجع المشروع
- الملف الكامل لحالة المشروع والتاريخ موجود في:
  `brain/sakin_project_reference.md` — اقرأه عند الحاجة للسياق الكامل

## قواعد التواصل باللغة العربية (RTL)
- **حافظ دائماً على اتجاه النص الصحيح:** عند دمج كلمات أجنبية (English/Code/Tech terms) وسط الجملة العربية، يجب صياغة الجملة بطريقة تحافظ على قراءتها من اليمين إلى اليسار (RTL) دون أن تتشوه أو تصبح طلاسم غير مفهومة. 
- استخدم العلامات المناسبة لعزل الكود (مثل \`backticks\`) كي لا يختل ترتيب الكلمات.
